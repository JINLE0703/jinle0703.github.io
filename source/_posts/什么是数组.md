---
title: 什么是数组
date: 2020-08-19 18:26:46
tags: 数据结构与算法
---

数组（Array）是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同类型的数据。

<!-- more -->

#### 数组的创建与读写

以下两种方式都可创建数组：

```js
// 字面量方式,常用
var num = [1,5,6,10];
print(num.length);   // 4

// 构造函数方式
var num = new Array(1,5,6,10);
print(num.length);    // 4
```

#### 数组的深复制与浅复制

当我们把数组赋给另外一个数组，然后改变其中一个数组的值，另一数组也会随之改变，这就是数组的浅复制。而深复制指的就是不改变原来的数组而去创建一个新的数组，这种情况是经常使用的，为了不破坏原数组。下面的代码展示了这两种复制

```js
// 浅复制
var num = [1,2,3,4,5];
var newNum = num;
num[0] = 10;
console.log(newNum[0]);  // 10

// 深复制
function copy (arr1,arr2) {
  for(var i=0;i<arr1.length;i++){
    arr2[i] = arr1[i];
  }
}
var num = [1,5,6,7,9];
var newNum = [];
copy(num,newNum);
num[0] = 10;
console.log(newNum[0]);    // 仍然为 1
```

#### 存储函数

JavaScript 提供了一组用来访问数组元素的函数，叫存取函数。

`indexOf()`：该函数返回指定查找的值在目标值中是否存在，如果存在，返回该值在数组中的索引，不存在则返回 -1

```js
var word = ["A","B","C","D"];
var result = word.indexOf("A");
console.log(result);    // 0
```

`join()`：把数组中的所有元素放入一个字符串，可通过指定分隔符分隔，返回一个字符串

`toString()`：把数组转换为字符串，返回字符串

```js
var arr = ["Mike","John","Hexo"];
console.log(arr.join());   // Mike,John,Hexo
console.log(arr.toString());   // Mike,John,Hexo
```

`concat()`：连接两个或多个数组。该方法不会改变现有的数组，返回一个新的连接数组

```js
var arr1 = [1,10,"Mike"];
var arr2 = [8,7,6];
var cat = arr1.concat(arr2);
console.log(cat);    // [1, 10, "Mike", 8, 7, 6]
```

`splice()`：向/从数组中添加/删除项目，然后返回被删除的项目，会改变原有数组

```js
var num = [1,2,3,4,5,6,7];
var a = num.splice(3,2);     // 3 表示索引，2 表示删除 2 个
console.log(num);      // [1, 2, 3, 6, 7]    
```

#### 可变函数

不去引用数组中的某个元素，就能改变数组内容，这种函数称它为可变函数。

`pop()`：删除数组的最后一个元素，返回被删除元素，会改变原数组

`push()`：向数组的末尾添加一个或多个元素，返回新的长度，会改变原数组

`unshift()`：向数组的开头添加一个或更多元素，返回新的长度，会改变原数组

`shift()`：删除数组的第一个元素，返回被删除元素，会改变原数组

```js
var nums = [9,58,15,16,23];
nums.push(111);
console.log(nums);   // 9, 58, 15, 16, 23, 111
nums.unshift(1);
console.log(nums);   // 1, 9, 58, 15, 16, 23, 111
nums.pop();
console.log(nums);   // 1, 9, 58, 15, 16, 23
nums.shift();
console.log(nums);   // 9, 58, 15, 16, 23
```

`splice()`：向/从数组中添加/删除项目，然后返回被删除的项目，会改变原有数组

`sort()`：对数组的元素进行排序，改变原数组

```js
var str = ["hello","client","zero"];
str.sort();
console.log(str);     // ["client", "hello", "zero"]  按照字母 a-z 排列准确

function compare(num1,num2){
  return num1 - num2;
}
var nums = [3,1,2,100,4,200];
nums.sort(compare);
console.log(nums);    // 1, 2, 3, 4, 100, 200
```

`reverse()`：颠倒数组中元素的顺序，改变原数组

```js
var num = [98,99,100,101];
num.reverse();
console.log(num);    //  101, 100, 99, 89, 98
```

#### 迭代函数

迭代函数通过对数组中的元素逐个应用，来操作返回相应的值。

不返回新数组的 `forEach()` 、`every()`、`some()`、`reduce()`

`forEach()`：调用数组的每个元素，并将元素传递给回调函数。

```js
function square(num) {
    console.log(num*num);
}
var num = [1,2,3,4,5];
num.forEach(square);
console.log(num); // 1 4 9 16 25
```

`every()`：指定函数检测数组中的所有元素，如果数组中检测到有一个元素不满足，则整个表达式返回 false ，且剩余的元素不会再进行检测。如果所有元素都满足条件，则返回 true。

```js
function isEven(num){
  return num % 2 == 0;
}
var num = [2,4,6,8,10];
var even = num.every(isEven);
if(even){
  console.log("所有的数字都是偶数");
}else{
  console.log("不是所有的数字都是偶数");
}
```

`some()`：指定函数检测数组中的所有元素，如果有一个元素满足条件，则表达式返回*true* , 剩余的元素不会再执行检测。如果没有满足条件的元素，则返回false。

`reduce()`：有两个功能，一是可以对数组元素进行求和，二是将数组元素连接成字符串。

```js
fucntion add(num1,num2){
  return num1 + num2;
}
var num = [1,2,3,4];
var sum = num.reduce(add);
console.log(sum);    // 10

function concat(str,i) {
  return str + i;
}
var words = ["I am ","a ","coder "];
var re = words.reduce(concat);
console.log(re);     // I am a coder
```

返回新数组的 `map()` 和 `filter()`

`map()` 的作用与 `forEach()` 是一样的，区别就是 `map()` 函数返回的是一个新数组。

```js
function addFive(grade){
  return grade += 5;
}
var grade = [77,82,88,95,90];
var result = grade.map(addFive);
console.log(result);     // 82, 87, 93, 100, 95
```

`filter`：创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。

```js
function passing(num){
  return num >= 60;
}
var grades = [];
for(var i = 0;i < 11;i++){
  grade[i] = Math.floor(Math.random() * 101);
}
var pass = grades.filter(passing);
console.log("随机产生的 10 个同学的分数为：");
console.log(grades)；
console.log("及格的分数有：");
console.log(pass)；
```

## 